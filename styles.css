    #downloadProgressBar { width: 0%; }
    #loadingBar { width: 0%; }
    #domWatermark { display: none; }
  </style>
    <style>
/* * ===================================================
 * ğŸ¨ ä¸»é¢˜é¢œè‰²ç®¡ç†
 * =================================================== */
:root {
    --color-primary: 10, 132, 255;
    --color-primary-dark: 0, 105, 250;
    --color-secondary: 220, 220, 225;
    --color-secondary-dark: 209, 213, 219;
    --color-body-bg: 247, 247, 250; 
    --shadow-apple-soft: 0 1px 3px rgba(0, 0, 0, 0.08); 
    --shadow-card: 0 4px 12px rgba(0, 0, 0, 0.04); 
    --mobile-padding: 0.5rem;
    --mobile-btn-padding: 8px 12px;
    --mobile-font-sm: 0.875rem;
    --mobile-font-base: 1rem;
    --control-gap: 0.5rem; /* 12pxï¼Œå››ä¸ªå…ƒç´ ç»Ÿä¸€é—´è· */
    --control-gap-sm: 0.25rem; /* 8pxï¼Œç§»åŠ¨ç«¯ç»Ÿä¸€é—´è· */
}

/* åŸºç¡€æ ·å¼å·¥å…·ç±» */
.shadow-apple { box-shadow: var(--shadow-card); }
.bg-primary { background-color: rgb(var(--color-primary)); }
.hover\:bg-primary-dark:hover { background-color: rgb(var(--color-primary-dark)); }
.text-primary { color: rgb(var(--color-primary)); }
.border-primary { border-color: rgb(var(--color-primary)); }
.focus\:border-primary:focus { border-color: rgb(var(--color-primary)); }
.bg-secondary { background-color: rgb(var(--color-secondary)); }
.hover\:bg-secondary-dark:hover { background-color: rgb(var(--color-secondary-dark)); }

/* ===================================================
 * åŸºç¡€ç»„ä»¶æ ·å¼
 * =================================================== */
.rect-container { 
    position: relative; 
    overflow: hidden; 
    background-color: #ffffff; 
    cursor: default; 
}
.rect-item { position: absolute; overflow: hidden; display: flex; justify-content: center; align-items: center; background-color: transparent; cursor: pointer; }
.rect-item img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
.rect-item:hover img { transform: scale(1.05); }
.fade-in { animation: fadeIn 0.5s ease-out; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* ğŸš€ DOM æ°´å°å±‚æ ·å¼ */
#domWatermark {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 50; 
    font-weight: bold;
    text-align: center;
    -webkit-text-stroke: 1px rgba(255, 255, 255, 0.9);
    text-stroke: 1px rgba(255, 255, 255, 0.9);
    color: rgba(var(--color-primary), 0.9); 
    opacity: 0.9;
    pointer-events: none; 
    user-select: none;
}

/* ===================================================
 * æ§åˆ¶æ å¸ƒå±€ä¼˜åŒ–
 * =================================================== */
.controls-bar {
    display: flex;
    align-items: center; /* å‚ç›´å±…ä¸­ */
    justify-content: center; /* æ•´ä½“å±…ä¸­ */
    gap: 4px !important;
    box-sizing: border-box;
    padding: var(--control-gap-sm) 0 !important; /* æ¸…é™¤å·¦å³paddingï¼Œé¿å…çˆ¶å®¹å™¨å®½åº¦è¢«å‹ç¼© */
    width: 100% !important;
    max-width: 100% !important;
}

.controls-bar .stats-group,
.controls-bar .actions-group {
    display: flex;
    align-items: center;
    flex-wrap: nowrap;
    gap: var(--control-gap);
}

#leftControls, #rightControls {
    display: flex;
    align-items: center;
    gap: var(--control-gap);
    width: auto;
}

.controls-bar > * {
    margin: 0 !important; /* æ¸…é™¤æ‰€æœ‰å­å…ƒç´ è‡ªå¸¦margin */
    flex-shrink: 0; /* é˜²æ­¢å…ƒç´ è¢«æŒ¤å‹å˜å½¢ */
}

/* å³ä¾§æ“ä½œåŒºä¸“é¡¹ä¼˜åŒ– */
#rightControls {
    justify-content: flex-end;
    padding: 0;
    margin: 0;
}

#rightControls > * {
    margin: 0 !important;
    flex-shrink: 0;
}

#rightControls .route-input-base {
    min-height: 34px;
    width: 130px !important; /* è¦†ç›–é€šç”¨æ ·å¼ */
}

#rightControls .primary-capsule-btn {
    min-height: 34px;
    padding: 6px 18px;
}

/* ===================================================
 * æŒ‰é’®å’Œè¾“å…¥æ¡†æ ·å¼ 
 * =================================================== */
/* åŸºç¡€æŒ‰é’®æ ·å¼ï¼ˆç»Ÿä¸€ç»§æ‰¿å±æ€§ï¼‰ */
.btn-base {
    font-family: inherit;
    transition: all 0.3s ease-out;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    cursor: pointer;
}
.btn-base:disabled {
    cursor: not-allowed;
    opacity: 1;
    transform: none;
    box-shadow: none;
}

/* 1. ä¸»æŒ‰é’®ï¼ˆé€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼‰ */
.primary-btn { 
    @apply btn-base;
    font-weight: 600; 
    border-radius: 1rem; 
    padding: 12px 20px; 
    color: white; 
    background-color: rgb(var(--color-primary)); 
    box-shadow: 0 4px 10px rgba(var(--color-primary), 0.3); 
    border: none; 
}
@media (min-width: 640px) { 
    .primary-btn { 
        font-size: 1.875rem; 
        padding: 15px 25px;
    } 
    .controls-bar { flex-wrap: nowrap; }
}
@media (max-width: 639px) {
    .primary-btn { 
        font-size: 1.5rem; 
        padding: 10px 16px;
    }
}
.primary-btn:disabled { 
    background-color: rgb(var(--color-secondary-dark)); 
    color: #9ca3af; 
}
.primary-btn:hover:not(:disabled) { 
    background-color: rgb(var(--color-primary-dark)); 
    box-shadow: 0 6px 15px rgba(var(--color-primary-dark), 0.4); 
    transform: translateY(-1px); 
}
.primary-btn:active:not(:disabled) { 
    background-color: rgb(var(--color-primary-dark)); 
    box-shadow: 0 2px 5px rgba(var(--color-primary), 0.2); 
    transform: translateY(0); 
}

/* 2. èƒ¶å›Šä¸»æŒ‰é’®ï¼ˆæ·»åŠ å›¾ç‰‡/ä¸‹è½½æ‹¼å›¾ï¼‰ */
.primary-capsule-btn { 
    @apply btn-base;
    font-weight: 600;
    border-radius: 12px; 
    font-size: 18px; 
    padding: 6px 16px; 
    min-height: 34px; 
    color: white; 
    background-image: linear-gradient(to top, rgb(var(--color-primary-dark)) 0%, rgb(var(--color-primary)) 100%); 
    box-shadow: 0 2px 8px rgba(var(--color-primary), 0.4); 
}
.primary-capsule-btn:disabled { 
    background-color: rgb(var(--color-secondary-dark)); 
    background-image: none; 
    color: #9ca3af; 
}

/* 3. æ¬¡è¦æŒ‰é’®åŸºç¡€æ ·å¼ */
.secondary-btn { 
    @apply btn-base;
    font-weight: 600;
    font-size: 16px; 
    padding: 6px 12px; 
    min-height: 34px; 
    color: rgb(var(--color-primary)); 
    background: white; 
    border: 2px solid rgb(var(--color-secondary)); 
    box-shadow: var(--shadow-apple-soft); 
    border-radius: 8px; 
    gap: 4px;
    margin: 0;
}
.secondary-btn:hover:not(:disabled) { 
    background-color: rgb(var(--color-body-bg)); 
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06); 
}

/* 4. æ“ä½œæŒ‰é’®ï¼ˆä¸»é¢˜/åˆ·æ–°/æ¸…ç©ºï¼‰ */
.rect-action-btn {
    @apply secondary-btn;
    padding: 4px 8px;
}
.rect-action-btn i {
    font-size: 2rem !important;
}

/* 5. å¸ƒå±€/æ¸…æ™°åº¦é€‰æ‹©å™¨æŒ‰é’® */
.ratio-quality-btn {
    @apply secondary-btn;
    padding: 4px 12px;
    border: 2px solid rgb(var(--color-secondary));
    border-left: none;
    border-radius: 0;
    font-size: 14px; 
}
.ratio-quality-btn:first-of-type {
    border-left: 2px solid rgb(var(--color-secondary));
    border-top-left-radius: 9999px;
    border-bottom-left-radius: 9999px;
}
.ratio-quality-btn:last-of-type {
    border-top-right-radius: 9999px;
    border-bottom-right-radius: 9999px;
}
.ratio-quality-btn.active {
    @apply primary-capsule-btn;
    background-image: linear-gradient(to top, rgb(var(--color-primary-dark)) 0%, rgb(var(--color-primary)) 100%);
    padding: 4px 12px;
    border: 2px solid rgb(var(--color-primary));
    color: white;
    box-shadow: 0 2px 8px rgba(var(--color-primary), 0.4);
    z-index: 1;
    margin: 0;
}
.ratio-quality-btn.active:first-of-type {
    border-top-left-radius: 9999px;
    border-bottom-left-radius: 9999px;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
.ratio-quality-btn.active:last-of-type {
    border-top-right-radius: 9999px;
    border-bottom-right-radius: 9999px;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}
.ratio-quality-btn.active:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}
.ratio-quality-btn.active:only-child {
    border-radius: 9999px;
}
.ratio-quality-btn.active ~ .ratio-quality-btn:not(.active) { 
    border-left: 2px solid rgb(var(--color-secondary));
}

.route-input-base { 
    width: 130px !important;
    max-width: 120px;
    min-height: 34px;
    padding: 6px 8px !important; /* å¢åŠ å·¦å³å†…è¾¹è·ï¼Œä¼˜åŒ–è¾“å…¥ä½“éªŒ */
    border: 2px solid rgb(var(--color-secondary));
    border-radius: 12px;
    font-size: 0.8rem !important; /* ä»2remæ”¹ä¸º1.2remï¼Œé€‚é…è¾“å…¥æ¡†é«˜åº¦ */
    text-align: center;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
    vertical-align: middle;
    line-height: 1.2;
    resize: none; /* ç¦æ­¢æ‹‰ä¼¸ï¼Œé¿å…é«˜åº¦å¼‚å¸¸ */
    box-sizing: border-box;
    transition: all 0.15s ease;
    outline: none;
}
.route-input-base:focus { 
    border-color: rgb(var(--color-primary)); 
    box-shadow: 0 0 0 3px rgba(var(--color-primary), 0.3), inset 0 1px 2px rgba(0, 0, 0, 0.05); 
}
.route-input-base::-webkit-input-placeholder,
.route-input-base:-ms-input-placeholder,
.route-input-base::placeholder { 
    text-align: center; 
    color: #9ca3af; 
    line-height: inherit;
    vertical-align: middle;
}

/* 7. åŠ¨ç”»ä¸é”™è¯¯æ ·å¼ */
.animate-pulse-primary { 
    animation: pulse-primary 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; 
}
@keyframes pulse-primary { 
    0%, 100% { box-shadow: 0 0 0 0 rgba(var(--color-primary), 0.7); } 
    50% { box-shadow: 0 0 0 8px rgba(var(--color-primary), 0); } 
}
.border-error { border-color: rgb(var(--color-primary)); }

/* 8. å›¾æ ‡æŒ‰é’®ä¸“ç”¨æ ·å¼ */
.icon-btn {
    @apply primary-capsule-btn;
    border-radius: 8px;
    padding: 8px 12px;
    min-width: 44px;
}

/* 9. é¡¶éƒ¨æ·»åŠ å›¾ç‰‡æŒ‰é’® */
#fileInputTopLabel.primary-capsule-btn {
    padding: 6px 16px;
}

/* 10. ä¸‹è½½æŒ‰é’®ç»Ÿä¸€æ ·å¼ */
#downloadBtn.primary-capsule-btn,
#rightControls #downloadBtn.primary-capsule-btn {
    padding: 6px 18px;
    box-shadow: 0 2px 8px rgba(var(--color-primary), 0.4);
    min-width: auto;
}

/* ===================================================
 * ç§»åŠ¨ç«¯é€‚é…ï¼ˆåˆå¹¶æ‰€æœ‰å°å±å¹•æ ·å¼ï¼‰
 * =================================================== */
@media (max-width: 640px) {
    /* å®¹å™¨å®½åº¦è°ƒæ•´ */
    .w-full.max-w-\[66\.6666\%\] {
        max-width: 96% !important;
    }
    
    #imageContainerParent {
        max-width: 100% !important; /* å æ»¡æ‰‹æœºå±å¹•å®½åº¦ */
        padding: 2px !important; /* å‡å°‘å†…è¾¹è·ï¼Œé¿å…ç•™ç™½ */
        min-height: 300px !important; /* ç©ºçŠ¶æ€é»˜è®¤é«˜åº¦ */
        display: flex !important; /* ç©ºçŠ¶æ€å†…å®¹å±…ä¸­ */
        align-items: center !important;
        justify-content: center !important;
    }
    
    .rect-container {
        width: 100% !important; /* æ‹¼å›¾å®¹å™¨å®½åº¦è‡ªé€‚åº” */
    }
    
    /* æ¨¡æ€æ¡†è°ƒæ•´ */
    #imageModal > div {
        max-width: 96% !important;
        max-height: 95vh !important;
    }
    
    .p-4 {
        padding: 0.75rem !important;
    }
    
    #modalImage {
        max-height: 60vh !important;
    }
    
    .flex-wrap > div {
        width: 100% !important;
        justify-content: center !important;
        margin-bottom: 0.5rem !important;
    }
    
    /* æ“ä½œæŒ‰é’®è°ƒæ•´ */
    .rect-action-btn {
        padding: 5px 10px !important;
    }
    
    .rect-action-btn i {
        font-size: 0.9rem !important;
    }
    
    /* è¾“å…¥æ¡†åŸºç¡€æ ·å¼ */
    .route-input-base {
        width: 100px !important;
        margin: 0 !important;
    }
    
    /* ä¸‹è½½æŒ‰é’®è°ƒæ•´ */
    #rightControls #downloadBtn.primary-capsule-btn {
        border-radius: 1rem !important;
        padding: 4px 8px !important;
        min-width: 36px !important;
    }
    
/* ==============================================
 * æ ¸å¿ƒï¼šæ§åˆ¶æ ï¼ˆæ•°é‡/åƒç´ /å¸ƒå±€/æ¸…æ™°åº¦ï¼‰æ ·å¼
 * ============================================== */
/* 1. æ§åˆ¶æ æ•´ä½“å®¹å™¨ */
.controls-bar {
    padding: var(--control-gap-sm) 4px !important; /* å‡å°‘å·¦å³ç•™ç™½ */
    gap: 5px !important; /* ç¼©å°æ§åˆ¶æ å·¦å³åŒºåŸŸé—´è· */
}

/* 2. å·¦ä¾§æ ¸å¿ƒå†…å®¹åŒºçˆ¶å®¹å™¨ï¼ˆå·²æ•´åˆå¯¹é½æ ¸å¿ƒè§„åˆ™ï¼‰ */
.controls-bar .stats-row {
    display: flex !important;
    flex-wrap: nowrap !important; /* ä¸æ¢è¡Œ */
    align-items: center !important; /* æ‰€æœ‰å­å…ƒç´ å‚ç›´å±…ä¸­ï¼ˆæ ¸å¿ƒï¼‰ */
    line-height: 1.2 !important; /* ç»Ÿä¸€è¡Œé«˜ï¼Œé¿å…æ–‡å­—/æŒ‰é’®é«˜ä½ä¸ä¸€ */
    justify-content: flex-start !important; /* å·¦å¯¹é½ */
    width: 100% !important; /* æ‹‰æ»¡å®½åº¦ */
    max-width: 100% !important;
    overflow-x: auto !important; /* è¶…å®½æ¨ªå‘æ»šåŠ¨ */
    overflow-y: hidden !important; /* ç¦æ­¢å‚ç›´æ»šåŠ¨ */
    padding: 2px 0 !important;
    margin: 0 !important;
    gap: 5px !important; /* ç»Ÿä¸€å­å…ƒç´ é—´è·ï¼ˆæ•°é‡/åƒç´ /å¸ƒå±€ä¹‹é—´ï¼‰ */
    scrollbar-width: thin !important; /* ç»†æ»šåŠ¨æ¡ */
}

/* æ»šåŠ¨æ¡æ ·å¼ */
.controls-bar .stats-row::-webkit-scrollbar {
    height: 4px !important;
}
.controls-bar .stats-row::-webkit-scrollbar-thumb {
    background-color: rgba(0,0,0,0.1) !important;
    border-radius: 2px !important;
}

/* 3. å­å…ƒç´ ç»Ÿä¸€å¤„ç†ï¼ˆæ¸…é™¤å‚ç›´å¹²æ‰°+å¯¹é½ç»§æ‰¿ï¼‰ */
.stats-row > * {
    margin: 0 !important;
    padding: 0 !important;
    flex-shrink: 0 !important; /* ä¸è¢«æŒ¤å‹ */
    line-height: inherit !important; /* ç»§æ‰¿çˆ¶å®¹å™¨è¡Œé«˜ï¼Œé¿å…æ–‡å­—åç§» */
    vertical-align: middle !important; /* å…¼å®¹inlineå…ƒç´ å¯¹é½ */
}

/* æ–°å¢ï¼šå•ç‹¬ç¼©å°â€œå¸ƒå±€â€å’Œâ€œæ¸…æ™°åº¦â€ä¹‹é—´çš„é—´è· */
.stats-row > div + div {
    margin-left: 2px !important; /* æ¯”å…¶ä»–å…ƒç´ é—´è·å°ï¼Œç¡®ä¿ç´§å‡‘ */
}

/* 4. æ•°é‡/åƒç´ æ–‡æœ¬æ ·å¼ï¼ˆç¡®ä¿ä¸æŒ‰é’®å¯¹é½ï¼‰ */
.controls-bar .stats-row p {
    white-space: nowrap !important; /* ä¸æ¢è¡Œ */
    font-size: 11px !important;
    padding: 2px 0 !important;
    line-height: 1.2 !important; /* ä¸æŒ‰é’®è¡Œé«˜åŒ¹é… */
    height: auto !important; /* æ¸…é™¤å›ºå®šé«˜åº¦ï¼Œé¿å…æŒ¤å‹ */
    align-self: center !important; /* å¼ºåˆ¶å‚ç›´å±…ä¸­ï¼Œä¼˜å…ˆçº§æœ€é«˜ */
}

/* æ•°é‡/åƒç´ ä¸­çš„æ•°å­—æ ·å¼ */
.controls-bar .stats-row p #imageCount,
.controls-bar .stats-row p #rectDimensions {
    font-size: 11px !important; /* ä¸æ–‡å­—åŒå°ºå¯¸ï¼Œä¸çªå‡º */
}

/* 5. å¸ƒå±€/æ¸…æ™°åº¦åˆ†ç»„å®¹å™¨ï¼ˆä¸æ–‡æœ¬å¯¹é½ï¼‰ */
.controls-bar .stats-row > div {
    padding: 2px 0 !important;
    width: auto !important; /* å®½åº¦éšå†…å®¹å˜åŒ–ï¼Œä¸å¼ºåˆ¶å›ºå®š */
    height: auto !important; /* æ¸…é™¤å›ºå®šé«˜åº¦ */
    align-self: center !important; /* å¼ºåˆ¶å‚ç›´å±…ä¸­ï¼Œä¸pæ ‡ç­¾å¯¹é½ */
}

/* 6. å¸ƒå±€/æ¸…æ™°åº¦æ–‡å­—æ ·å¼ */
.stats-row span {
    white-space: nowrap !important;
    font-size: 11px !important;
    margin-right: 2px !important; /* æ–‡å­—ä¸æŒ‰é’®é—´éš™ */
}

/* 7. å¸ƒå±€/æ¸…æ™°åº¦æŒ‰é’®æ ·å¼ï¼ˆåŒ¹é…æ–‡æœ¬é«˜åº¦ï¼‰ */
.ratio-quality-btn {
    min-width: 28px !important; /* å›ºå®šå®½åº¦ï¼Œç¡®ä¿èƒ½æ”¾ä¸‹æ–‡å­— */
    white-space: nowrap !important; /* æŒ‰é’®æ–‡å­—ä¸æ¢è¡Œ */
    font-size: 10px !important; /* ç¼©å°æ–‡å­—ï¼Œçœç©ºé—´ */
    padding: 2px 4px !important; /* å‹ç¼©å†…è¾¹è·ï¼Œå‡å°‘æ¨ªå‘å ç”¨ */
    line-height: 1.2 !important; /* ä¸pæ ‡ç­¾è¡Œé«˜ä¸€è‡´ï¼Œé¿å…ä¸Šä¸‹åç§» */
    height: auto !important; /* æ¸…é™¤å›ºå®šé«˜åº¦ï¼Œç”±å†…å®¹å†³å®š */
    border: 2px solid rgb(var(--color-secondary)) !important;
}

/* ä¿®æ­£ï¼šé€‰ä¸­æŒ‰é’®æ ·å¼ï¼ˆåŸç±»åå¤šå†™ä¸€ä¸ª"quality"ï¼Œå·²ä¿®æ­£ï¼‰ */
.ratio-quality-btn.active {
    background-image: linear-gradient(to top, rgb(var(--color-primary-dark)) 0%, rgb(var(--color-primary)) 100%) !important;
    border-color: rgb(var(--color-primary)) !important;
    color: white !important;
}

/* ==============================================
 * å³ä¾§æ“ä½œåŒºæ ·å¼
 * ============================================== */
#leftControls, #rightControls {
    gap: var(--control-gap-sm);
    width: 100%;
    justify-content: center;
}

#rightControls {
    margin-top: var(--control-gap-sm) !important;
    gap: 4px !important; /* ç¼©å°è¾“å…¥æ¡†ä¸ä¸‹è½½æŒ‰é’®é—´è· */
}

#rightControls .route-input-base {
    width: 120px !important;
}

#rightControls .primary-capsule-btn {
    padding: 4px 12px !important;
}

/* ç»Ÿä¸€æŒ‰é’®æ–‡æœ¬å¤§å° */
.primary-capsule-btn {
    font-size: 16px !important;
}

/* é¡µé¢é«˜åº¦åŸºç¡€æ ·å¼ */
html, body {
    height: 100%; /* å æ»¡å±å¹•é«˜åº¦ */
}

footer {
    height: 60px !important; /* å›ºå®šç‰ˆæƒåŒºé«˜åº¦ */
}

/* è¯­å½•å®¹å™¨åŠçˆ¶å…ƒç´ å¼ºåˆ¶å¯è§ */
#quoteWrapper,
#quoteWrapper > div,
#currentQuote {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
  z-index: 100 !important; /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ï¼Œä¸è¢«é®æŒ¡ */
  height: auto !important;
  overflow: visible !important;
}

/* è¯­å½•æ–‡å­—æ ·å¼ï¼ˆç¡®ä¿èƒ½çœ‹æ¸…ï¼‰ */
#currentQuote {
  color: #555 !important; /* æ·±ç°è‰²ï¼Œé¿å…ä¸èƒŒæ™¯èåˆ */
  font-size: 16px !important;
  padding: 10px 0 !important;
  margin: 0 !important;
  text-align: center !important;
  line-height: 1.5 !important;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Arial, sans-serif;
    background-color: rgb(var(--color-body-bg));
    background-image: none;
    transition: background-color 0.3s ease;
    min-height: 100vh;
}
